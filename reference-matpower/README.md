# reference-matpower

- [RTS-GMLC matpower data (with dcline removed)](./RTS_GMLC.m)

### Setup

- Run MATPOWER

  ```bash
  matlab -nodisplay -nosplash -nodesktop -r "filename='RTS_GMLC/RTS_GMLC.m';script"
  ```

- Install [Julia](https://julialang.org/downloads/)
- Run the following in a terminal:

  ```bash
  git clone https://github.com/G-PST/power-flow-exercise
  cd reference-matpower
  julia --project -e "using Pkg; Pkg.instantiate()"
  julia --project parse-matpower-results.jl 'RTS_GMLC/results/RTS_GMLC.mat'
  ```

  The output is generated in the results folder:

  ```bash
  tree results
  ```

  ```
  results
  ├── bus.csv
  └── flow.csv
  ```

  ```bash
  head results/bus.csv
  ```

  ```
  bus_n,v_mag,v_ang,p_load,q_load,p_gen,q_gen
  101.0,1.0468000000000002,-8.575015383184262,108.0,22.0,168.0,10.677513207612424
  102.0,1.0467,-8.633843977493477,97.0,20.0,168.0,4.6590123323421455
  103.0,1.011336415887653,-7.980239232397326,180.0,37.0,0.0,0.0
  104.0,1.0174699497169186,-10.744881948471278,74.0,15.0,0.0,0.0
  105.0,1.0353916382243729,-10.928291745909693,71.0,14.0,,
  106.0,1.0324203062223822,-13.15740349258403,136.0,28.0,,
  107.0,1.05,-3.9889120653590244,125.0,25.0,355.0,49.505761113045935
  108.0,1.016715104216173,-9.342435452926118,171.0,35.0,,
  109.0,1.026628375155244,-8.459834837803646,175.0,36.0,,
  ```

  ```bash
  head results/flow.csv
  ```

  ```
from_bus_index,to_bus_index,from_bus_inj_p,from_bus_inj_q,to_bus_inj_p,to_bus_inj_q,branch_n,loss_p,loss_q
101.0,102.0,7.836947725444657,-26.185471349366868,-7.835242708863907,-24.317676453090378,1,0.0015573966367567534,0.007267850971531516
101.0,103.0,-0.5760549573418878,14.648159473053967,0.7347352484487594,-20.07739019483038,2,0.15794909523001147,0.605950165336953
101.0,105.0,52.73910723189744,0.21482508392366428,-52.180250655495506,-0.5486064904605042,3,0.5185637333334714,2.0035416969702307
102.0,104.0,34.93848088783804,13.718759655974702,-34.49766816580356,-15.644702754786586,4,0.4239359008473257,1.631510891139708
102.0,106.0,43.89676182102464,-4.742070870543278,-43.01571721374189,2.5054534578882945,5,0.8176469910928629,3.1397644457965934
103.0,109.0,3.676101076540224,-15.559619474744576,-3.6132502438149126,12.478058107721965,6,0.06230128001773544,0.2391565265196941
103.0,124.0,-184.410836324989,-1.3629903304254343,185.0959574960243,30.13807951390718,7,0.6621836008721264,27.81171123662931
104.0,109.0,-39.50233183419637,0.6447027547864457,39.91044890491381,-1.9975915471223153,8,0.3915920099305499,1.5083544086213772
105.0,110.0,-18.81974934450436,-13.451393509539123,18.92748722226619,11.254176060314547,9,0.10385471094069719,0.39735715490353707
  ```
